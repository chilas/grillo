!function(){grillo.component("productlist",function(scope){return{init:function(){var cf=scope.config.productlist;cf.$productsList=$(".products-list");var validProductsList=cf.$productsList.filter(function(index,elem){return $(elem).children("li").length>cf.majorLength});$('<a href="#">Show all</a>').addClass("view-products hover-underline").appendTo(validProductsList),cf.$viewProducts=$(cf.$viewProducts.selector),validProductsList.addClass("show-few").each(function(index,elem){$(elem).children("li").slice(0,cf.majorLength).addClass("major")}),this.events()},events:function(){var cf=scope.config.productlist;cf.$viewProducts.on("click",function(e){e.preventDefault();var $curList=$(this).closest(cf.$productsList);$curList.toggleClass("show-few"),$curList.find(cf.$viewProducts).html($curList.hasClass("show-few")?"Show all":"Show less")}),cf.$productsList.find("a").on("click",function(e){e.preventDefault()})}}})}();