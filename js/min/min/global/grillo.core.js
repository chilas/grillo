!function(window){var _comps={},_utils={},_config={},channels={},hOP=channels.hasOwnProperty,isFunction=function(fn){var getType={};return fn&&"[object Function]"===getType.toString.call(fn)},init_comp=function(comp,scope){return _comps.hasOwnProperty(comp)?_comps[comp](scope).init.apply(_comps[comp],[]):void 0};window.grillo={init:function(){for(comp in _comps)init_comp(comp,this)},comps:_comps,utils:_utils,config:_config,addComponent:function(compName,compDeps,compFn){return isFunction(compDeps)&&(compFn=compFn||compDeps,compDeps=[]),_comps[compName]=compFn,_config[compName]={},this},addUtility:function(utilName,utilDeps,utilFn){return isFunction(utilDeps)&&(utilFn=utilFn||utilDeps,utilDeps=[]),_utils[utilName]=utilFn,_config[utilName]={},this[utilName]=utilFn(this),this},require:{},publish:function(channel,data){if(hOP.call(channels,channel))for(data=data||{},lenListeners=channels[channel].length,i=0;i<lenListeners;i++)channels[channel][i](data)},subscribe:function(channel,listener){hOP.call(channels,channel)||(channels[channel]=[]);var index=channels[channel].push(listener)-1;return{remove:function(){delete channels[channel][index]}}}}}(this,document);